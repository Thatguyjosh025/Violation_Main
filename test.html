<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="AdminCSS/AdminDashboard.css">
</head>
<body>
    <div class="d-flex">
        <!-- Side Bar Section -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <h1 class="mb-0 sidebar-title" style="color: #004581;">Central</h1>
                <button class="close-btn" id="closeSidebar"><i class="bi bi-list"></i></button>
            </div>
            <nav class="nav flex-column mt-3 flex-grow-1">
                <a class="nav-link active" href="AdminDashboard.html"><i class="bi bi-columns-gap"></i> <span>Dashboard</span></a>
                <a class="nav-link" href="ViolationManagement.html"><i class="bi bi-person-exclamation"></i> <span>Violation Management</span></a>
                <a class="nav-link" href="IncidentReport.html"><i class='bx bxs-report'></i> <span>Incident Report</span></a>
                <a class="nav-link" href="ViolationRecords.html"><i class="bi bi-people"></i> <span>Violation Record</span></a>
                <a class="nav-link" href="#"><i class="bi bi-clipboard-data-fill"></i> <span>Reports and Analytics</span></a>
                <a class="nav-link" href="#"><i class="bi bi-book-half"></i> <span>Student Handbook</span></a>
            </nav>
            <div class="logout-container">
                <a class="logout-link" href="#"><i class="bi bi-box-arrow-left"></i> <span>Log Out</span></a>
            </div>
        </div>
        <div class="dashboard-content w-100">
            <div class="d-flex align-items-center">
                <button class="toggle-btn" id="toggleSidebar"><i class="bi bi-list"></i></button>
                <h3 class="mb-0">Dashboard</h3>
                <input type="text" class="form-control ms-auto w-25 w-md-50 w-sm-75" id="searchInput" placeholder="Search">
            </div>

            <div class="container dashboard-container mt-4">
                <div class="row mt-3">
                    <!-- Profile Card -->
                    <div class="col-lg-7 mb-3 mb-lg-0">
                        <div class="card card-custom shadow-sm h-100">
                            <h4>Welcome</h4>
                            <div class="d-flex align-items-center mt-4 flex-md-nowrap flex-wrap">
                                <img src="/Photos/UserPic.jpg" alt="Profile Picture" class="profile-img">
                                <div class="flex-grow-1">
                                    <span class="badge badge-custom">Disciplinary Officer</span>
                                    <h4 class="mt-2 mb-1">Mark Jecil Bausa</h4>
                                    <p class="mb-1">Age: 21 &nbsp; | &nbsp; School: STI Alabang</p>
                                    <p class="mb-1">Bachelor of Science in Information Technology</p>
                                    <span>IT Department | Part Time Worker</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Calendar -->
                    <div class="col-lg-5">
                        <div id="calendarView" class="calendar-view text-center">
                            <div class="calendar-header d-flex justify-content-between align-items-center mb-3">
                                <h5 id="monthYear" class="mb-0 fw-bold"></h5>
                            </div>
                            <div class="calendar-days d-grid">
                                <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                            </div>
                            <div id="calendarDates" class="calendar-dates d-grid mt-2"></div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <!-- Progress Cards and Notifications Below -->
                    <div class="col-lg-7 mb-3">
                        <div class="d-flex gap-3 flex-wrap">
                            <!-- Minor Card -->
                            <div class="custom-card flex-fill">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="card-title">Minor</div>
                                    <i class="bi bi-exclamation-circle-fill text-warning fs-3"></i>
                                </div>
                                <div class="card-number">34</div>
                                <div class="progress">
                                    <div class="progress-bar bg-warning" role="progressbar" style="width: 60%;" aria-valuenow="34" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            
                
                            <!-- Major Card -->
                            <div class="custom-card flex-fill">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div class="card-title">Major</div>
                                    <i class="bi bi-exclamation-circle-fill text-danger fs-3"></i>
                                </div>
                                <div class="card-number">29</div>
                                <div class="progress">
                                    <div class="progress-bar bg-danger" role="progressbar" style="width: 45%;" aria-valuenow="29" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            
                        </div>
                    </div>

                    <!-- Notification Card -->
                    <div class="col-lg-5">
                    <div class="card shadow-sm notif">
                        <h6 class="mb-3 sticky-top bg-white" style="z-index: 1;">Notifications</h6>
                        <div class="notif-scrollable">
                            <div class="notification-card d-flex align-items-start mb-3 p-3 rounded shadow-sm bg-light position-relative">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Student Appeal</h6>
                                    <p class="mb-1 text-muted small">You’ve received an appeal from a student</p>
                                    <small class="text-muted">20h ago</small>
                                </div>
                                <button class="btn-close ms-2 mt-1" aria-label="Close" onclick="dismissNotification(this)"></button>
                            </div>
    
                            <div class="notification-card d-flex align-items-start mb-3 p-3 rounded shadow-sm bg-light position-relative">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Student Appeal</h6>
                                    <p class="mb-1 text-muted small">You’ve received an appeal from a student</p>
                                    <small class="text-muted">20h ago</small>
                                </div>
                                <button class="btn-close ms-2 mt-1" aria-label="Close" onclick="dismissNotification(this)"></button>
                            </div>
    
                            <div class="notification-card d-flex align-items-start mb-3 p-3 rounded shadow-sm bg-light position-relative">
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Student Appeal</h6>
                                    <p class="mb-1 text-muted small">You’ve received an appeal from a student</p>
                                    <small class="text-muted">20h ago</small>
                                </div>
                                <button class="btn-close ms-2 mt-1" aria-label="Close" onclick="dismissNotification(this)"></button>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
        </div>
    </div>

    <script src="AdminJS/AdminDashboard.js"></script>
</body>
</html>

@foreach ( $notif as $notifdata )
                                @if ($notifdata->role === 'admin' && $notifdata->is_read === 0)
                                    <div class="notification-card d-flex align-items-start mb-3 p-3 rounded shadow-sm bg-light position-relative" data-notif-id="{{$notifdata->id}}">
                                        <div class="flex-grow-1">
                                            <h6 class="mb-1">{{$notifdata->title}}</h6>
                                            <p class="mb-1 text-muted small">{{$notifdata->message}}</p>
                                            <small class="text-muted">{{$notifdata->created_time}}</small>
                                            <small class="text-muted">{{$notifdata->date_created}}</small>
                                        </div>
                                        <button class="btn-close ms-2 mt-1" aria-label="Close"></button>
                                    </div>
                                @endif
                            @endforeach